function getViewProductInstance(n){g_viewProductInstance=n;n.addItem("VIIRS 375-m");n.addItem("VIIRS 375-m 5-Day");n.addItem("ABI 1-km");n.addItem("AHI 1-km");n.addItem("Joint VIIRS/ABI");n.addItem("Joint VIIRS/AHI");n.selectIndex(0)}function getDownloadProductInstance(n){g_downloadProductInstance=n;n.addItem("VIIRS 375-m");n.addItem("VIIRS 375-m 5-Day");n.addItem("ABI 1-km");n.addItem("AHI 1-km");n.addItem("Joint VIIRS/ABI");n.addItem("Joint VIIRS/AHI");n.selectIndex(0)}function getViewNWSDomainInstance(n){g_viewNWSDomainInstance=n;n.addItem("NWS Alaska");n.addItem("NWS North East");n.addItem("NWS North Central");n.addItem("NWS South East");n.addItem("NWS Missouri Basin");n.addItem("NWS West Gulf");n.addItem("NWS North West");n.addItem("NWS South West");n.selectIndex(0)}function getViewCountryInstance(n){g_viewCountryInstance=n;n.addItem("Afghanistan");n.addItem("Albania");n.addItem("Algeria");n.addItem("Andorra");n.addItem("Angola");n.addItem("Argentina");n.addItem("Armenia");n.addItem("Australia");n.addItem("Austria");n.addItem("Azerbaijan");n.addItem("Azores");n.addItem("Bahrain");n.addItem("Bangladesh");n.addItem("Belarus");n.addItem("Belgium");n.addItem("Benin");n.addItem("Bermuda");n.addItem("Bhutan");n.addItem("Bolivia");n.addItem("Bosnia and Herzegovina");n.addItem("Botswana");n.addItem("Brazil");n.addItem("Brunei Darussalam");n.addItem("Bulgaria");n.addItem("Burkina Faso");n.addItem("Burundi");n.addItem("Cabo Verde");n.addItem("Cambodia");n.addItem("Cameroon");n.addItem("Canada");n.addItem("Central African Republic");n.addItem("Central America");n.addItem("Chad");n.addItem("Chile");n.addItem("China");n.addItem("Christmas Island");n.addItem("Clipperton");n.addItem("Cocos Islands");n.addItem("Colombia");n.addItem("Comoros");n.addItem("Congo");n.addItem("Congo DRC");n.addItem("Croatia");n.addItem("Cyprus");n.addItem("Czech Republic");n.addItem("Denmark");n.addItem("Djibouti");n.addItem("Ecuador");n.addItem("Egypt");n.addItem("Equatorial Guinea");n.addItem("Eritrea");n.addItem("Estonia");n.addItem("Ethiopia");n.addItem("Falkland Islands");n.addItem("Faroe Islands");n.addItem("Fiji");n.addItem("Finland");n.addItem("Gabon");n.addItem("Gambia");n.addItem("Georgia");n.addItem("Germany");n.addItem("Ghana");n.addItem("Gibraltar");n.addItem("Glorioso Islands");n.addItem("Greece");n.addItem("Greenland");n.addItem("Guernsey");n.addItem("Guinea");n.addItem("Guinea-Bissau");n.addItem("Hungary");n.addItem("Iceland");n.addItem("India");n.addItem("Indonesia");n.addItem("Iran");n.addItem("Iraq");n.addItem("Ireland");n.addItem("Isle of Man");n.addItem("Israel");n.addItem("Italy");n.addItem("Ivory Coast");n.addItem("Jan Mayen");n.addItem("Japan");n.addItem("Jersey");n.addItem("Jordan");n.addItem("Juan De Nova Island");n.addItem("Kazakhstan");n.addItem("Kenya");n.addItem("Kuwait");n.addItem("Kyrgyzstan");n.addItem("Laos");n.addItem("Latvia");n.addItem("Lebanon");n.addItem("Lesotho");n.addItem("Liberia");n.addItem("Libya");n.addItem("Liechtenstein");n.addItem("Lithuania");n.addItem("Luxembourg");n.addItem("Madagascar");n.addItem("Malawi");n.addItem("Malaysia");n.addItem("Maldives");n.addItem("Mali");n.addItem("Malta");n.addItem("Mauritania");n.addItem("Mauritius");n.addItem("Mayotte");n.addItem("Mexico");n.addItem("Moldova");n.addItem("Monaco");n.addItem("Mongolia");n.addItem("Montenegro");n.addItem("Morocco");n.addItem("Mozambique");n.addItem("Myanmar");n.addItem("Namibia");n.addItem("Nepal");n.addItem("Netherlands");n.addItem("New Caledonia");n.addItem("New Zealand");n.addItem("Niger");n.addItem("Nigeria");n.addItem("Norfolk Island");n.addItem("North Korea");n.addItem("Norway");n.addItem("Oman");n.addItem("Pacific Islands");n.addItem("Pakistan");n.addItem("Palau");n.addItem("Palestinian Territory");n.addItem("Papua New Guinea");n.addItem("Paraguay");n.addItem("Peru");n.addItem("Philippines");n.addItem("Poland");n.addItem("Qatar");n.addItem("Reuunion");n.addItem("Romania");n.addItem("Russian Federation");n.addItem("Rwanda");n.addItem("Saint Pierre and Miquelon");n.addItem("San Marino");n.addItem("Sao Tome and Principe");n.addItem("Saudi Arabia");n.addItem("Senegal");n.addItem("Serbia");n.addItem("Seychelles");n.addItem("Sierra Leone");n.addItem("Singapore");n.addItem("Slovakia");n.addItem("Slovenia");n.addItem("Solomon Islands");n.addItem("Somalia");n.addItem("South Africa");n.addItem("South Korea");n.addItem("South Sudan");n.addItem("Spain");n.addItem("Sri Lanka");n.addItem("Sudan");n.addItem("Swaziland");n.addItem("Sweden");n.addItem("Switzerland");n.addItem("Syria");n.addItem("Tajikistan");n.addItem("Tanzania");n.addItem("Thailand");n.addItem("The Former Yugoslav Republic of Macedonia");n.addItem("Timor-Leste");n.addItem("Togo");n.addItem("Tunisia");n.addItem("Turkey");n.addItem("Turkmenistan");n.addItem("Uganda");n.addItem("Ukraine");n.addItem("United Arab Emirates");n.addItem("United Kingdom");n.addItem("Uruguay");n.addItem("USA-Alaska");n.addItem("USA-CONUS");n.addItem("USA-Hawaii");n.addItem("Uzbekistan");n.addItem("Vanuatu");n.addItem("Vatican City");n.addItem("Vietnam");n.addItem("Yemen");n.addItem("Zambia");n.addItem("Zimbabwe");n.selectIndex(0)}function getViewRegionInstance(n){g_viewRegionInstance=n;n.addItem("All");n.addItem("North America");n.addItem("South America");n.addItem("Europe");n.addItem("Asia");n.addItem("Africa");n.addItem("Australia");n.selectIndex(0)}function getDownloadRegionInstance(n){g_downloadRegionInstance=n;n.addItem("All");n.addItem("North America");n.addItem("South America");n.addItem("Europe");n.addItem("Asia");n.addItem("Africa");n.addItem("Australia");n.addItem("NWS Alaska");n.addItem("NWS North East");n.addItem("NWS North Central");n.addItem("NWS South East");n.addItem("NWS Missouri Basin");n.addItem("NWS West Gulf");n.addItem("NWS North West");n.addItem("NWS South West");n.selectIndex(1)}function getImageTypeInstance(n){n.addItem("GeoTiff");n.addItem("HDF4");n.addItem("PNG");n.addItem("ShapeFile");n.selectIndex(1)}function getDownloadImageTypeInstance(n){n.addItem("GeoTiff");n.addItem("HDF4");n.addItem("PNG");n.addItem("ShapeFile");n.selectIndex(1)}function getDownloadWindowInstance(n){g_downloadWindowInstance=n}function getDownloadConfirmationWindowInstance(n){g_downloadConfirmationWindowInstance=n}function formatDate(n){var t=new Date(n),i=""+(t.getMonth()+1),r=""+t.getDate(),o=t.getFullYear(),u=""+t.getHours(),f=""+t.getMinutes(),e=""+t.getSeconds();return i.length<2&&(i="0"+i),r.length<2&&(r="0"+r),u.length<2&&(u="0"+u),f.length<2&&(f="0"+f),e.length<2&&(e="0"+e),[i,r,o].join("/")+" "+[u,f,e].join(":")}function getViewFromDatetimeText(){return $("#viewFromDatetime").attr("aria-valuetext")}function getViewToDatetimeText(){return $("#viewToDatetime").attr("aria-valuetext")}function getdownloadFromDatetimeText(){return $("#downloadFromDatetime").attr("aria-valuetext")}function getdownloadToDatetimeText(){return $("#downloadToDatetime").attr("aria-valuetext")}function getViewFromDatetime(){var n=$("#viewFromDatetime").attr("aria-valuetext");return new Date(n)}function getViewToDatetime(){var n=$("#viewToDatetime").attr("aria-valuetext");return new Date(n)}function getSelectedViewNWSDomain(){return $("#viewNWSDomain").children(":input").attr("value")}function getSelectedViewRegion(){return $("#viewRegion").children(":input").attr("value")}function getSelectedViewCountry(){return $("#viewCountry").children(":input").attr("value")}function getSelectedDownloadRegion(){return $("#downloadRegion").children(":input").attr("value")}function getViewTransparency(){return $("#viewTransparency")[0].value}function getSelectedViewProduct(){return $("#viewProduct").children(":input").attr("value")}function getSelectedDownloadProduct(){return $("#downloadProduct").children(":input").attr("value")}function getDownloadCoordinateNorth(){return $("#downloadCoordinateNorth")[0].value}function getDownloadCoordinateSouth(){return $("#downloadCoordinateSouth")[0].value}function getDownloadCoordinateWest(){return $("#downloadCoordinateWest")[0].value}function getDownloadCoordinateEast(){return $("#downloadCoordinateEast")[0].value}function getDownloadImageFormat(){return $("#downloadImageFormat").children(":input").attr("value")}function getDownloadImageFormat2(){return $("#downloadImageFormat2").children(":input").attr("value")}function initMap(){var n=getViewFromDatetimeText(),t=getViewToDatetimeText(),i=getViewTransparency();$("#PeriodFrom").html(n);$("#PeriodTo").html(t);g_mapInstance=createMapInstance("googleMap",parseInt(i),null,null,null)}function createMapInstance(n,t,i,r,u){(i===null||r===null)&&(i=0,r=0);u===null&&(u=3);var e={center:new google.maps.LatLng({lat:parseFloat(i),lng:parseFloat(r)}),minZoom:2,zoom:parseInt(u),zoomControl:!0,mapTypeId:"hybrid",streetViewControl:!1,mapTypeControl:!0,fullscreenControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTOM},mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.RIGHT_TOP}},f=new google.maps.Map(document.getElementById(n),e);return f.addListener("tilesloaded",function(){var t=getViewTransparency();$("#"+n).find("img[src*='googleusercontent']").css("opacity",(100-t)/100)}),f.addListener("mousemove",function(n){mouseMoveOnMap(n)}),google.maps.event.addListener(f,"dragend",function(){var n=f.getCenter();sessionStorage.setItem("navigation_center_lat",n.lat());sessionStorage.setItem("navigation_center_lng",n.lng());sessionStorage.setItem("navigation_zoom",f.getZoom());var t=f.getBounds(),i=t.getNorthEast(),r=t.getSouthWest();sessionStorage.setItem("bounds_north",i.lat().toFixed());sessionStorage.setItem("bounds_east",i.lng().toFixed());sessionStorage.setItem("bounds_south",r.lat().toFixed());sessionStorage.setItem("bounds_west",r.lng().toFixed())}),google.maps.event.addListener(f,"zoom_changed",function(){var n=f.getCenter();sessionStorage.setItem("navigation_center_lat",n.lat());sessionStorage.setItem("navigation_center_lng",n.lng());sessionStorage.setItem("navigation_zoom",f.getZoom())}),f}function mouseMoveOnMap(n){$("#currentLatitude").html(n.latLng.lat().toFixed(3));$("#currentLongitude").html(n.latLng.lng().toFixed(3))}function dragOnMap(){var n=map.getBounds(),t=n.getSouthWest(),i=n.getNorthEast();alert(t.lat());alert(i)}function zoomChangedOnMap(){var n=map.getZoom();alert("zoom_changed");alert(n)}function displayKmlLayer(n,t){var i=new google.maps.KmlLayer({preserveViewport:!0,suppressInfoWindows:!1,clickable:!1});i.setUrl(t);i.setMap(n)}function displayKmls(n,t,i,r,u){$.ajax({type:"GET",url:"api/kmls",data:{from:t,to:i,region:r,product:u},cache:!1,success:function(t){$.each(t,function(t,i){if((i.districtId===1||i.districtId===9||i.districtId===136)&&(u==="VIIRS 375-m"||u==="VIIRS 375-m 5-Day"))return!0;displayKmlLayer(n,i.fullName)})},complete:function(){sessionStorage.setItem("navigation_kmlloaded",1)}})}function getLatestDataDate(){$.ajax({type:"GET",url:"api/kmls/LatestDataDate",cache:!1,success:function(n){$("#PeriodFrom").html(n)}})}function GenerateDownloadTask(n,t,i,r,u,f,e,o,s){$.ajax({type:"GET",url:"api/kmls/download",data:{from:n,to:t,region:i,north:f,south:e,west:o,east:s,product:r,format:u},cache:!1,success:function(n){sessionStorage.setItem("download_taskname",n);$("#downloadTaskName").html(n);sessionStorage.setItem("download_taskstatus","Scheduled");$("#downloadTaskStatus").html("Scheduled")}})}function GetDownloadTaskStatus(n){$.ajax({type:"GET",url:"api/kmls/downloadstatus",data:{taskName:n},cache:!1,success:function(n){n===1?($("#downloadTaskStatus").html("Scheduled"),sessionStorage.setItem("download_taskstatus","Scheduled")):n===2?($("#downloadTaskStatus").html("Processing"),sessionStorage.setItem("download_taskstatus","Processing")):n===3?($("#downloadTaskStatus").html("Completed"),sessionStorage.setItem("download_taskstatus","Completed")):($("#downloadTaskStatus").html("Deleted"),sessionStorage.setItem("download_taskstatus","Deleted"))}})}function getKmlFiles(n,t,i,r,u,f,e,o,s,h,c){$.ajax({type:"GET",url:"api/kmls/block",data:{from:n,to:t,region:i,product:r,north:e,south:o,west:s,east:h,zoom:c},cache:!1,success:function(n){$.each(n,function(n,t){var i="";u==="GeoTiff"?i=t.fullName.replace(".kml",".tif.zip"):u==="HDF4"?i=t.fullName.replace(".kml",".hdf.zip"):u==="PNG"?i=t.fullName.replace(".kml",".kml.zip"):u==="ShapeFile"?i=t.fullName.replace(".kml",".zip"):alert("Download: Unsupported file format.");f.addrow(null,{Index:n+1,Address:t.shortName,Link:'<a href="'+i+'">Download<\/a>'})})}})}var g_mapInstance,g_viewRegionInstance,g_viewNWSDomainInstance,g_viewCountryInstance,g_viewProductInstance,g_downloadWindowInstance,g_downloadConfirmationWindowInstance,g_downloadGridInstance,g_ViewFromDateInstance,g_downloadRegionInstance,g_downloadProductInstance;