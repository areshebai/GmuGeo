function getViewProductInstance(n){g_viewProductInstance=n;n.addItem("VIIRS 375-m");n.addItem("VIIRS 375-m 5-Day");n.addItem("ABI 1-km");n.addItem("AHI 1-km");n.addItem("Joint VIIRS/ABI");n.addItem("Joint VIIRS/AHI");n.selectIndex(0)}function getDownloadProductInstance(n){g_downloadProductInstance=n;n.addItem("VIIRS 375-m");n.addItem("VIIRS 375-m 5-Day");n.addItem("ABI 1-km");n.addItem("AHI 1-km");n.addItem("Joint VIIRS/ABI");n.addItem("Joint VIIRS/AHI");n.selectIndex(0)}function getViewRegionInstance(n){g_viewRegionInstance=n;n.addItem("All");n.addItem("North America");n.addItem("South America");n.addItem("Europe");n.addItem("Asia");n.addItem("Africa");n.addItem("Australia");n.selectIndex(1)}function getDownloadRegionInstance(n){g_downloadRegionInstance=n;n.addItem("All");n.addItem("North America");n.addItem("South America");n.addItem("Europe");n.addItem("Asia");n.addItem("Africa");n.addItem("Australia");n.selectIndex(1)}function getImageTypeInstance(n){n.addItem("GeoTiff");n.addItem("HDF4");n.addItem("PNG");n.addItem("ShapeFile");n.selectIndex(1)}function getDownloadImageTypeInstance(n){n.addItem("GeoTiff");n.addItem("HDF4");n.addItem("PNG");n.addItem("ShapeFile");n.selectIndex(1)}function getDownloadWindowInstance(n){g_downloadWindowInstance=n}function formatDate(n){var t=new Date(n),i=""+(t.getMonth()+1),r=""+t.getDate(),o=t.getFullYear(),u=""+t.getHours(),f=""+t.getMinutes(),e=""+t.getSeconds();return i.length<2&&(i="0"+i),r.length<2&&(r="0"+r),u.length<2&&(u="0"+u),f.length<2&&(f="0"+f),e.length<2&&(e="0"+e),[i,r,o].join("/")+" "+[u,f,e].join(":")}function getViewFromDatetimeText(){return $("#viewFromDatetime").attr("aria-valuetext")}function getViewToDatetimeText(){return $("#viewToDatetime").attr("aria-valuetext")}function getdownloadFromDatetimeText(){return $("#downloadFromDatetime").attr("aria-valuetext")}function getdownloadToDatetimeText(){return $("#downloadToDatetime").attr("aria-valuetext")}function getViewFromDatetime(){var n=$("#viewFromDatetime").attr("aria-valuetext");return new Date(n)}function getViewToDatetime(){var n=$("#viewToDatetime").attr("aria-valuetext");return new Date(n)}function getSelectedViewRegion(){return $("#viewRegion").children(":input").attr("value")}function getSelectedDownloadRegion(){return $("#downloadRegion").children(":input").attr("value")}function getViewTransparency(){return $("#viewTransparency")[0].value}function getSelectedViewProduct(){return $("#viewProduct").children(":input").attr("value")}function getSelectedDownloadProduct(){return $("#downloadProduct").children(":input").attr("value")}function getDownloadCoordinateNorth(){return $("#downloadCoordinateNorth")[0].value}function getDownloadCoordinateSouth(){return $("#downloadCoordinateSouth")[0].value}function getDownloadCoordinateWest(){return $("#downloadCoordinateWest")[0].value}function getDownloadCoordinateEast(){return $("#downloadCoordinateEast")[0].value}function getDownloadImageFormat(){return $("#downloadImageFormat").children(":input").attr("value")}function getDownloadImageFormat2(){return $("#downloadImageFormat2").children(":input").attr("value")}function initMap(){var i=getViewFromDatetimeText(),r=getViewToDatetimeText(),u=getViewTransparency(),n,t;$("#PeriodFrom").html(i);$("#PeriodTo").html(r);n=createMapInstance("googleMap",parseInt(u));t=new google.maps.KmlLayer("https://jpssflood.gmu.edu/kmls/yukon_5_6_15.kmz");t.setMap(n)}function createMapInstance(n,t){var r={center:new google.maps.LatLng({lat:40,lng:180}),maxZoom:10,minZoom:2,zoom:3,zoomControl:!0,mapTypeId:"hybrid",streetViewControl:!1,mapTypeControl:!0,fullscreenControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTOM},mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.RIGHT_TOP}},i=new google.maps.Map(document.getElementById(n),r);return i.addListener("tilesloaded",function(){$("#"+n).find("img[src*='googleusercontent']").css("opacity",(100-t)/100)}),i.addListener("mousemove",function(n){mouseMoveOnMap(n)}),google.maps.event.addListener(i,"dragend",function(){}),google.maps.event.addListener(i,"zoom_changed",function(){}),i}function mouseMoveOnMap(n){$("#currentLatitude").html(n.latLng.lat());$("#currentLongitude").html(n.latLng.lng())}function dragOnMap(){var n=map.getBounds(),t=n.getSouthWest(),i=n.getNorthEast();alert(t.lat());alert(i)}function zoomChangedOnMap(){var n=map.getZoom();alert("zoom_changed");alert(n)}function displayKmlLayer(n,t){var i=new google.maps.KmlLayer({preserveViewport:!1,suppressInfoWindows:!1,clickable:!1});i.setUrl(t);i.setMap(n)}function AddKmlLayer(n,t){var i="api/Kml/"+n.toString();$.ajax({type:"GET",url:i,cache:!1,success:function(n){$.each(n,function(n,i){displayKmlLayer(t,i)})}})}function displayKmls(n,t,i,r,u){$.ajax({type:"GET",url:"api/kmls",data:{from:t,to:i,region:r,product:u},cache:!1,success:function(t){$.each(t,function(t,i){i.districtId!==9&&displayKmlLayer(n,i.fullName)})}})}function getLatestDataDate(){$.ajax({type:"GET",url:"api/kmls/LatestDataDate",cache:!1,success:function(n){$("#PeriodFrom").html(n)}})}function GenerateDownloadTask(n,t,i,r,u,f,e,o,s){$.ajax({type:"GET",url:"api/kmls/download",data:{from:n,to:t,region:i,north:f,south:e,west:o,east:s,product:r,format:u},cache:!1,success:function(n){$("#downloadTaskName").html(n);$("#downloadTaskStatus").html("Scheduled");$("#downloadTaskPath").html("ftps://jpssflood.gmu.edu/Download/"+n+"/")}})}function getKmlFiles(n,t,i,r,u,f){$.ajax({type:"GET",url:"api/kmls",data:{from:n,to:t,region:i,product:r},cache:!1,success:function(n){$.each(n,function(n,t){var i="";u==="GeoTiff"?i=t.fullName.replace(".kml",".tif.zip"):u==="HDF4"?i=t.fullName.replace(".kml",".hdf.zip"):u==="PNG"?i=t.fullName.replace(".kml",".kml.zip"):u==="ShapeFile"?i=t.fullName.replace(".kml",".zip"):alert("Download: Unsupported file format.");f.addrow(null,{Index:n+1,Address:t.shortName,Link:'<a href="'+i+'">Download<\/a>'})})}})}function displayKmlById(n){alert("Not expected to be call!");$.ajax({type:"GET",url:"api/kmls/kml",data:{id:5},cache:!1,success:function(t){$.each(t,function(t,i){alert(i);displayKmlLayer(n,i)})}})}var g_mapInstance,g_viewRegionInstance,g_viewProductInstance,g_downloadWindowInstance,g_downloadGridInstance,g_ViewFromDateInstance,g_downloadRegionInstance,g_downloadProductInstance;