function getViewProductInstance(n){g_viewProductInstance=n;n.addItem("VIIRS 375-m");n.addItem("VIIRS 375-m 5-Day");n.addItem("ABI 1-km");n.addItem("AHI 1-km");n.addItem("Joint VIIRS/ABI");n.addItem("Joint VIIRS/AHI");n.selectIndex(0)}function getDownloadProductInstance(n){g_downloadProductInstance=n;n.addItem("VIIRS 375-m");n.addItem("VIIRS 375-m 5-Day");n.addItem("ABI 1-km");n.addItem("AHI 1-km");n.addItem("Joint VIIRS/ABI");n.addItem("Joint VIIRS/AHI");n.selectIndex(0)}function getViewNWSDomainInstance(n){g_viewNWSDomainInstance=n;n.addItem("NWS Alaska");n.addItem("NWS North East");n.addItem("NWS North Central");n.addItem("NWS South East");n.addItem("NWS Missouri Basin");n.addItem("NWS West Gulf");n.addItem("NWS North West");n.addItem("NWS South West");n.selectIndex(0)}function getViewCountryInstance(n){g_viewCountryInstance=n;n.addItem("USA-CONUS");n.addItem("USA-Alaska");n.addItem("USA-Hawaii");n.addItem("Afghanistan");n.addItem("Albania");n.addItem("American Samoa");n.addItem("Andorra");n.addItem("Angola");n.addItem("Anguilla");n.addItem("Antarctica");n.addItem("Antigua and Barbuda");n.addItem("Argentina");n.addItem("Armenia");n.addItem("Aruba");n.addItem("Australia");n.selectIndex(0)}function getViewRegionInstance(n){g_viewRegionInstance=n;n.addItem("All");n.addItem("North America");n.addItem("South America");n.addItem("Europe");n.addItem("Asia");n.addItem("Africa");n.addItem("Australia");n.addItem("NWS Alaska");n.addItem("NWS North East");n.addItem("NWS North Central");n.addItem("NWS South East");n.addItem("NWS Missouri Basin");n.addItem("NWS West Gulf");n.addItem("NWS North West");n.addItem("NWS South West");n.selectIndex(0)}function getDownloadRegionInstance(n){g_downloadRegionInstance=n;n.addItem("All");n.addItem("North America");n.addItem("South America");n.addItem("Europe");n.addItem("Asia");n.addItem("Africa");n.addItem("Australia");n.addItem("NWS Alaska");n.addItem("NWS North East");n.addItem("NWS North Central");n.addItem("NWS South East");n.addItem("NWS Missouri Basin");n.addItem("NWS West Gulf");n.addItem("NWS North West");n.addItem("NWS South West");n.selectIndex(1)}function getImageTypeInstance(n){n.addItem("GeoTiff");n.addItem("HDF4");n.addItem("PNG");n.addItem("ShapeFile");n.selectIndex(1)}function getDownloadImageTypeInstance(n){n.addItem("GeoTiff");n.addItem("HDF4");n.addItem("PNG");n.addItem("ShapeFile");n.selectIndex(1)}function getDownloadWindowInstance(n){g_downloadWindowInstance=n}function getDownloadConfirmationWindowInstance(n){g_downloadConfirmationWindowInstance=n}function formatDate(n){var t=new Date(n),i=""+(t.getMonth()+1),r=""+t.getDate(),o=t.getFullYear(),u=""+t.getHours(),f=""+t.getMinutes(),e=""+t.getSeconds();return i.length<2&&(i="0"+i),r.length<2&&(r="0"+r),u.length<2&&(u="0"+u),f.length<2&&(f="0"+f),e.length<2&&(e="0"+e),[i,r,o].join("/")+" "+[u,f,e].join(":")}function getViewFromDatetimeText(){return $("#viewFromDatetime").attr("aria-valuetext")}function getViewToDatetimeText(){return $("#viewToDatetime").attr("aria-valuetext")}function getdownloadFromDatetimeText(){return $("#downloadFromDatetime").attr("aria-valuetext")}function getdownloadToDatetimeText(){return $("#downloadToDatetime").attr("aria-valuetext")}function getViewFromDatetime(){var n=$("#viewFromDatetime").attr("aria-valuetext");return new Date(n)}function getViewToDatetime(){var n=$("#viewToDatetime").attr("aria-valuetext");return new Date(n)}function getSelectedViewNWSDomain(){return $("#viewNWSDomain").children(":input").attr("value")}function getSelectedViewRegion(){return $("#viewRegion").children(":input").attr("value")}function getSelectedViewCountry(){return $("#viewCountry").children(":input").attr("value")}function getSelectedDownloadRegion(){return $("#downloadRegion").children(":input").attr("value")}function getViewTransparency(){return $("#viewTransparency")[0].value}function getSelectedViewProduct(){return $("#viewProduct").children(":input").attr("value")}function getSelectedDownloadProduct(){return $("#downloadProduct").children(":input").attr("value")}function getDownloadCoordinateNorth(){return $("#downloadCoordinateNorth")[0].value}function getDownloadCoordinateSouth(){return $("#downloadCoordinateSouth")[0].value}function getDownloadCoordinateWest(){return $("#downloadCoordinateWest")[0].value}function getDownloadCoordinateEast(){return $("#downloadCoordinateEast")[0].value}function getDownloadImageFormat(){return $("#downloadImageFormat").children(":input").attr("value")}function getDownloadImageFormat2(){return $("#downloadImageFormat2").children(":input").attr("value")}function initMap(){var n=getViewFromDatetimeText(),t=getViewToDatetimeText(),i=getViewTransparency();$("#PeriodFrom").html(n);$("#PeriodTo").html(t);g_mapInstance=createMapInstance("googleMap",parseInt(i),null,null,null)}function createMapInstance(n,t,i,r,u){(i===null||r===null)&&(i=0,r=0);u===null&&(u=3);var e={center:new google.maps.LatLng({lat:parseFloat(i),lng:parseFloat(r)}),minZoom:2,zoom:parseInt(u),zoomControl:!0,mapTypeId:"hybrid",streetViewControl:!1,mapTypeControl:!0,fullscreenControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTOM},mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.RIGHT_TOP}},f=new google.maps.Map(document.getElementById(n),e);return f.addListener("tilesloaded",function(){var t=getViewTransparency();$("#"+n).find("img[src*='googleusercontent']").css("opacity",(100-t)/100)}),f.addListener("mousemove",function(n){mouseMoveOnMap(n)}),google.maps.event.addListener(f,"dragend",function(){var n=f.getCenter();sessionStorage.setItem("navigation_center_lat",n.lat());sessionStorage.setItem("navigation_center_lng",n.lng());sessionStorage.setItem("navigation_zoom",f.getZoom());var t=f.getBounds(),i=t.getNorthEast(),r=t.getSouthWest();sessionStorage.setItem("bounds_north",i.lat().toFixed());sessionStorage.setItem("bounds_east",i.lng().toFixed());sessionStorage.setItem("bounds_south",r.lat().toFixed());sessionStorage.setItem("bounds_west",r.lng().toFixed())}),google.maps.event.addListener(f,"zoom_changed",function(){var n=f.getCenter();sessionStorage.setItem("navigation_center_lat",n.lat());sessionStorage.setItem("navigation_center_lng",n.lng());sessionStorage.setItem("navigation_zoom",f.getZoom())}),f}function mouseMoveOnMap(n){$("#currentLatitude").html(n.latLng.lat().toFixed(3));$("#currentLongitude").html(n.latLng.lng().toFixed(3))}function dragOnMap(){var n=map.getBounds(),t=n.getSouthWest(),i=n.getNorthEast();alert(t.lat());alert(i)}function zoomChangedOnMap(){var n=map.getZoom();alert("zoom_changed");alert(n)}function displayKmlLayer(n,t){var i=new google.maps.KmlLayer({preserveViewport:!0,suppressInfoWindows:!1,clickable:!1});i.setUrl(t);i.setMap(n)}function displayKmls(n,t,i,r,u){$.ajax({type:"GET",url:"api/kmls",data:{from:t,to:i,region:r,product:u},cache:!1,success:function(t){$.each(t,function(t,i){if((i.districtId===1||i.districtId===9||i.districtId===136)&&(u==="VIIRS 375-m"||u==="VIIRS 375-m 5-Day"))return!0;displayKmlLayer(n,i.fullName)})},complete:function(){sessionStorage.setItem("navigation_kmlloaded",1)}})}function getLatestDataDate(){$.ajax({type:"GET",url:"api/kmls/LatestDataDate",cache:!1,success:function(n){$("#PeriodFrom").html(n)}})}function GenerateDownloadTask(n,t,i,r,u,f,e,o,s){$.ajax({type:"GET",url:"api/kmls/download",data:{from:n,to:t,region:i,north:f,south:e,west:o,east:s,product:r,format:u},cache:!1,success:function(n){sessionStorage.setItem("download_taskname",n);$("#downloadTaskName").html(n);sessionStorage.setItem("download_taskstatus","Scheduled");$("#downloadTaskStatus").html("Scheduled")}})}function GetDownloadTaskStatus(n){$.ajax({type:"GET",url:"api/kmls/downloadstatus",data:{taskName:n},cache:!1,success:function(n){n===1?($("#downloadTaskStatus").html("Scheduled"),sessionStorage.setItem("download_taskstatus","Scheduled")):n===2?($("#downloadTaskStatus").html("Processing"),sessionStorage.setItem("download_taskstatus","Processing")):n===3?($("#downloadTaskStatus").html("Completed"),sessionStorage.setItem("download_taskstatus","Completed")):($("#downloadTaskStatus").html("Deleted"),sessionStorage.setItem("download_taskstatus","Deleted"))}})}function getKmlFiles(n,t,i,r,u,f,e,o,s,h,c){$.ajax({type:"GET",url:"api/kmls/block",data:{from:n,to:t,region:i,product:r,north:e,south:o,west:s,east:h,zoom:c},cache:!1,success:function(n){$.each(n,function(n,t){var i="";u==="GeoTiff"?i=t.fullName.replace(".kml",".tif.zip"):u==="HDF4"?i=t.fullName.replace(".kml",".hdf.zip"):u==="PNG"?i=t.fullName.replace(".kml",".kml.zip"):u==="ShapeFile"?i=t.fullName.replace(".kml",".zip"):alert("Download: Unsupported file format.");f.addrow(null,{Index:n+1,Address:t.shortName,Link:'<a href="'+i+'">Download<\/a>'})})}})}var g_mapInstance,g_viewRegionInstance,g_viewNWSDomainInstance,g_viewCountryInstance,g_viewProductInstance,g_downloadWindowInstance,g_downloadConfirmationWindowInstance,g_downloadGridInstance,g_ViewFromDateInstance,g_downloadRegionInstance,g_downloadProductInstance;